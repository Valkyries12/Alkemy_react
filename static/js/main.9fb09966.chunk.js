(this.webpackJsonpalkemy_challenge=this.webpackJsonpalkemy_challenge||[]).push([[0],{45:function(e,t,r){},46:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var s=r(1),c=r.n(s),a=r(11),n=r.n(a),i=r(10),o=(r(45),r(6)),l=(r(46),r(4)),j=r(2),d=function(e){var t=e.hero,r=e.setSelectedHeroes,s=e.selectedHeroes;return Object(j.jsx)("div",{className:"card-hero",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.d,{children:Object(j.jsx)(l.g,{className:"text-center card-heroe-name",tag:"h6",children:t.name})}),Object(j.jsx)("img",{alt:t.name,src:t.image.url,width:"100%"}),Object(j.jsxs)(l.d,{className:"text-center",children:[Object(j.jsx)(l.f,{}),Object(j.jsx)(l.e,{onClick:function(e){return function(e,t){t.preventDefault();var c=s.filter((function(t){return t.id!==e.id}));r(c)}(t,e)},href:"",children:Object(j.jsx)(l.b,{color:"danger",outline:!0,children:"Eliminar"})})]})]})})};function h(){return!!window.localStorage.getItem("token")}var u=function(e){var t=m(e);return e.map((function(e){for(var r in e)if("height"===r||"weight"===r){var s=e[r][1].split("").filter((function(e){return e==parseInt(e)})).join("");t[r]=parseInt(t[r])+parseInt(s)}else isNaN(e[r])||(t[r]=parseInt(t[r])+parseInt(e[r]))})),t},b=function(e,t){var r=t;for(var s in t)r[s]=Math.round(t[s]/e.length);return r},m=function(e){var t={};for(var r in e[0])t[r]=0;return t},O=function(e){var t=e.selectedHeroes,r=Object(s.useState)(null),c=Object(o.a)(r,2),a=c[0],n=c[1];return Object(s.useEffect)((function(){if(t.length<=6){var e=[];t.map((function(t){e.push(t.appearance)})),n(b(t,u(e)))}}),[t]),a&&Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"HeroesTeam__TeamInfo-title",children:"Your Team"}),Object(j.jsxs)("p",{className:"HeroesTeam__TeamInfo-detail",children:["Team Weight Average: ",a.weight," kg"]}),Object(j.jsxs)("p",{className:"HeroesTeam__TeamInfo-detail",children:["Team height Average: ",a.height," cm"]})]})},p=function(e){var t=e.selectedHeroes,r=Object(s.useState)(null),c=Object(o.a)(r,2),a=c[0],n=c[1];return Object(s.useEffect)((function(){if(t.length<=6){var e=[];t.map((function(t){e.push(t.powerstats)})),n(b(t,u(e)))}}),[t]),a&&Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"HeroesTeam__PowerStats-title",children:"Powerstats"}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Combat: ",a.combat,"%"]}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Intelligence: ",a.intelligence,"%"]}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Power: ",a.power,"%"]}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Durability: ",a.durability,"%"]}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Speed: ",a.speed,"%"]}),Object(j.jsxs)("p",{className:"HeroesTeam__PowerStats-detail",children:["Strength: ",a.strength,"%"]})]})},x=function(e){var t=e.selectedHeroes,r=e.setSelectedHeroes;return Object(j.jsx)(l.i,{className:"heroes-team-container",children:t.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(l.p,{children:[Object(j.jsx)(l.h,{className:"text-center",children:Object(j.jsx)(O,{selectedHeroes:t})}),Object(j.jsx)(l.h,{className:"text-center",children:Object(j.jsx)(p,{selectedHeroes:t})})]}),Object(j.jsx)(l.p,{md:"3",xs:"2",children:t.map((function(e){return Object(j.jsx)(l.h,{children:Object(j.jsx)(d,{hero:e,setSelectedHeroes:r,selectedHeroes:t})},e.id)}))})]}):Object(j.jsx)("p",{className:"no-heroes-text text-center",children:"No hay heroes enlistados"})})},f=r(12),g=r.n(f),v=r(16),_=r(51);function w(e){return _.get("https://www.superheroapi.com/api.php/".concat("996194767599076","/").concat(e)).then((function(e){return e})).catch((function(e){console.log(e)}))}var N=function(e){var t=e.setDataHeroes,r=Object(s.useState)(""),c=Object(o.a)(r,2),a=c[0],n=c[1],i=Object(s.useState)(""),d=Object(o.a)(i,2),h=d[0],u=d[1],b=function(){var e=Object(v.a)(g.a.mark((function e(r){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),u(""),e.next=4,c=a,_.get("https://www.superheroapi.com/api.php/".concat("996194767599076","/search/").concat(c)).then((function(e){return e})).catch((function(e){console.log(e)}));case 4:(s=e.sent).data.error&&u(s.data.error),t(s.data.results);case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(l.i,{children:Object(j.jsxs)(l.j,{children:[Object(j.jsxs)(l.p,{children:[Object(j.jsx)(l.h,{md:"4",children:Object(j.jsx)(l.k,{children:Object(j.jsx)(l.l,{id:"search",name:"search",placeholder:"Buscar heroe",type:"search",onChange:function(e){return function(e){n(e.target.value)}(e)},value:a})})}),Object(j.jsx)(l.h,{children:Object(j.jsx)(l.b,{type:"submit",color:"primary",onClick:function(e){return b(e)},children:"Buscar"})})]}),h&&Object(j.jsx)("p",{className:"error",children:"No se encontr\xf3 el heroe solicitado"})]})})},H=r(25),S=function(e){var t=e.heroe,r=e.selectedHeroes,c=e.setSelectedHeroes,a=Object(s.useState)(null),n=Object(o.a)(a,2),d=n[0],h=n[1],u=Object(s.useState)(!1),b=Object(o.a)(u,2),m=(b[0],b[1],function(e,t){"good"===e.biography.alignment&&3===t.good&&h("Muchos heroes buenos"),"bad"===e.biography.alignment&&3===t.bad&&h("Muchos heroes malos"),setTimeout((function(){h(null)}),1500)}),O=function(e){var t=!0;return r.map((function(r){r.id===e.id&&(t=!1)})),t},p=function(e){var t=0,r=0;return e.map((function(e){"good"===e.biography.alignment&&(t+=1),"bad"===e.biography.alignment&&(r+=1)})),{good:t,bad:r}};return Object(j.jsx)("div",{className:"card-hero",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.d,{children:Object(j.jsx)(l.g,{className:"text-center card-heroe-name",tag:"h6",children:t.name})}),Object(j.jsx)("img",{alt:t.name,src:t.image.url,width:"100%"}),Object(j.jsxs)(l.d,{className:"cardbody",children:[d&&Object(j.jsx)(l.a,{color:"danger",children:d}),Object(j.jsxs)("div",{className:"button-container",children:[Object(j.jsx)(i.b,{to:"/details/".concat(t.id),children:Object(j.jsx)(l.b,{color:"primary",outline:!0,children:"Detalles"})}),Object(j.jsx)(l.b,{color:"success",outline:!0,onClick:function(e){return function(e,t){t.preventDefault();var s=p(r);m(e,s),r.length<6&&O(e)&&("good"===e.biography.alignment&&s.good<3&&c((function(t){return[].concat(Object(H.a)(r),[e])})),"bad"===e.biography.alignment&&s.bad<3&&c((function(t){return[].concat(Object(H.a)(r),[e])})))}(t,e)},children:"Agregar"})]})]})]})})},y=function(e){var t=e.dataHeroes,r=e.selectedHeroes,s=e.setSelectedHeroes;return Object(j.jsx)(l.i,{className:"heroes-container",children:Object(j.jsx)(l.p,{md:"3",xs:"1",children:t?t.map((function(e){return Object(j.jsx)(l.h,{children:Object(j.jsx)(S,{heroe:e,selectedHeroes:r,setSelectedHeroes:s})},e.id)})):null})})},k=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),r=t[0],c=t[1],a=Object(s.useState)([]),n=Object(o.a)(a,2),i=n[0],l=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{selectedHeroes:i,setSelectedHeroes:l}),Object(j.jsx)(N,{setDataHeroes:c}),Object(j.jsx)(y,{dataHeroes:r,selectedHeroes:i,setSelectedHeroes:l})]})},I=r(38),T={email:"",password:""},E=function(e){var t={};return e.password||(t.password="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email format"):t.email="Required",t},C=function(e){var t=e.setIsLogged,r=Object(s.useState)(null),c=Object(o.a)(r,2),a=c[0],n=c[1],i=Object(I.a)({initialValues:T,validate:E,onSubmit:function(){var e=Object(v.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s=i.values.email,c=i.values.password,_.post("http://challenge-react.alkemy.org/?email=".concat(s,"&password=").concat(c)).then((function(e){if("OK"===e.statusText)return e.data.token})).catch((function(e){return console.log("impriminedo error ",e),401===e.response.status?"Error: invalid username or password":"Error something went wrong. Please try again"}));case 2:(r=e.sent).includes("Error")||(window.localStorage.setItem("token",r),t(h()),n(null)),n(r);case 5:case"end":return e.stop()}var s,c}),e)})));return function(){return e.apply(this,arguments)}}()});return Object(j.jsx)(l.i,{children:Object(j.jsxs)(l.j,{onSubmit:i.handleSubmit,children:[Object(j.jsx)(l.p,{children:Object(j.jsx)(l.h,{md:"4",children:Object(j.jsxs)(l.k,{children:[Object(j.jsx)(l.m,{for:"email",children:"Email"}),Object(j.jsx)(l.l,{id:"email",name:"email",placeholder:"Ingresa tu email",type:"email",onChange:i.handleChange,value:i.values.email,onBlur:i.handleBlur}),i.touched.email&&i.errors.email?Object(j.jsx)("div",{className:"error",children:i.errors.email}):null]})})}),Object(j.jsx)(l.p,{children:Object(j.jsx)(l.h,{md:"4",children:Object(j.jsxs)(l.k,{children:[Object(j.jsx)(l.m,{for:"password",children:"Password"}),Object(j.jsx)(l.l,{id:"password",name:"password",placeholder:"Ingresa tu password",type:"password",onChange:i.handleChange,value:i.password,onBlur:i.handleBlur}),i.touched.password&&i.errors.password?Object(j.jsx)("div",{className:"error",children:i.errors.password}):null]})})}),Object(j.jsxs)(l.p,{children:[Object(j.jsxs)(l.h,{children:[Object(j.jsx)(l.b,{type:"submit",children:"Entrar"}),Object(j.jsx)(l.b,{onClick:function(){return t(!0)},className:"btn-invitado",type:"submit",children:"Entrar como invitado"})]}),a&&Object(j.jsx)("div",{className:"error",children:a})]})]})})},P=function(e){var t=e.isLogged,r=e.setIsLogged;return Object(j.jsxs)("header",{className:"p-3 mb-2 text-white header",children:[Object(j.jsxs)("h1",{className:"d-flex justify-content-center header__title",children:[Object(j.jsx)("span",{children:"super"}),"hero"]}),Object(j.jsx)("div",{children:Object(j.jsxs)(l.n,{justified:!0,children:[Object(j.jsx)(l.o,{children:Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)(l.b,{color:"primary",children:"Home"})})}),Object(j.jsx)(l.o,{children:Object(j.jsx)(i.b,{onClick:function(){window.localStorage.clear(),r(h())},to:"/",children:Object(j.jsx)(l.b,{color:"primary",children:t?"Logout":"Login"})})})]})})]})},L=r(5),A=function(){var e=Object(s.useState)(null),t=Object(o.a)(e,2),r=t[0],c=t[1],a=Object(L.g)().id;return Object(s.useEffect)(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,w(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]),r&&Object(j.jsx)(l.i,{className:"hero-details",children:Object(j.jsxs)(l.p,{xs:"1",md:"2",children:[Object(j.jsx)(l.h,{children:Object(j.jsx)("picture",{className:"hero-details__image",children:Object(j.jsx)("img",{src:r.data.image.url,alt:r.data.name})})}),Object(j.jsx)(l.h,{children:Object(j.jsxs)("div",{className:"hero-details__stats",children:[Object(j.jsx)("p",{className:"hero-details__stats__name",children:r.data.name}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Weight: ",r.data.appearance.weight[1]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Height: ",r.data.appearance.height[1]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Fullname: ",r.data.biography["full-name"]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["First appearance:"," ",r.data.biography["first-appearance"]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Eyes color: ",r.data.appearance["eye-color"]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Hair color: ",r.data.appearance["hair-color"]]}),Object(j.jsxs)("p",{className:"hero-details__stats__info",children:["Workplace: ",r.data.work.base]})]})}),Object(j.jsx)(l.h,{children:Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)(l.b,{color:"primary",children:"Go back"})})})]})})};var B=function(){var e=Object(s.useState)(h()),t=Object(o.a)(e,2),r=t[0],c=t[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(P,{isLogged:r,setIsLogged:c}),Object(j.jsxs)(L.c,{children:[Object(j.jsx)(L.a,{exact:!0,path:"/",element:r?Object(j.jsx)(k,{}):Object(j.jsx)(C,{setIsLogged:c})}),Object(j.jsx)(L.a,{path:"/details/:id",element:Object(j.jsx)(A,{})})]})]})};r(73);n.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(B,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.9fb09966.chunk.js.map